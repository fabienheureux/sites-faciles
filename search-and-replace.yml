# search-and-replace.yml

apps:
  - blog
  - events
  - forms
  - content_manager
  - config

scopes:
  migrations: "**/migrations/**"
  templates: "**/templates/**"
  all: "**/*"

text_extensions:
  - .py
  - .html
  - .htm
  - .txt
  - .md
  - .csv
  - .json
  - .yaml
  - .yml
  - .po
  - .ini
  - .cfg
  - .rst
  - .xml
  - .js
  - .ts
  - .css
  - .scss

# Rules. Each rule may use:
#  - scope: referral to a named scope (scopes.<name>)
#  - path_glob: an explicit git ls-files pattern (overrides scope if present)
#  - literal: true -> do a literal string replace (no regex); safer for punctuation/quotes
#  - search & replace are strings (quote as needed)
rules:

  - search: 'from {app}\.'
    replace: 'from sites_faciles.{app}.'
    scope: all

  - search: 'content_manager.MegaMenu'
    replace: 'sites_faciles_content_manager.MegaMenu'
    path_glob: '**/models.py'
    literal: true

  - search: '"content_manager.MegaMenu'
    replace: '"sites_faciles_content_manager.MegaMenu'
    path_glob: '**/models.py'
    literal: true

  - search: 'content_manager.MegaMenu,'
    replace: 'sites_faciles_content_manager.MegaMenu,'
    path_glob: '**/models.py'
    literal: true
